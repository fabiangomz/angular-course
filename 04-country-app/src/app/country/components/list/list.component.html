<section class="mt-5">
    <table class="table w-full">
        <thead>
            <tr>
                <th>#</th>
                <th>Icono</th>
                <th>Bandera</th>
                <th>Nombre</th>
                <th>Capital</th>
                <th>Poblaci√≥n</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @for (country of countries(); track country.cca2; let index = $index) {
            <tr>
                <td>{{ index + 1 }}</td>
                <td>{{ country.flag }}</td>
                <td>
                    <img [src]="country.flagSvg" [alt]="country.name" class="w-10">
                </td>
                <td>{{ country.name }}</td>
                <td>{{ country.capital }}</td>
                <td><span class="badge badge-secondary">
                        {{ country.population | number }}
                    </span></td>
                <td>
                    <a [routerLink]="['/country/by', country.cca2]" class="link-primary">More info</a>
                </td>
            </tr>
            }

            @if (errorMessage()) {
            <tr>
                <td colspan="8" class="text-center text-red-500">
                    {{ errorMessage() }}
                </td>
                }

                @if(countries().length === 0 && !isLoading()) {
            <tr>
                <td colspan="8" class="text-center">
                    No countries found.
                </td>
                }

                @if(isLoading()) {
            <tr>
                <td colspan="8" class="text-center">
                    <div class="loading loading-spinner loading-lg"></div>
                </td>
            </tr>
            }
        </tbody>
    </table>
</section>